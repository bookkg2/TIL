## Mini project

```sql
-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- CUSTOMER_TB Table Create SQL
CREATE TABLE CUSTOMER_TB
(
    CUSTOMER_ID       VARCHAR2(20)    NOT NULL, 
    CUSTOMER_PWD      VARCHAR2(20)    NOT NULL, 
    CUSTOMER_NM       VARCHAR2(20)    NOT NULL, 
    CUSTOMER_PHONE    VARCHAR2(20)    NULL, 
    CUSTOMER_ADDR     VARCHAR2(50)    NOT NULL, 
    CUSTOMER_EMAIL    VARCHAR2(30)    NULL, 
    CUSTOMER_ADMIN    VARCHAR2(20)    NOT NULL, 
    CONSTRAINT CUSTOMER_TB_PK PRIMARY KEY (CUSTOMER_ID)
)
/

COMMENT ON TABLE CUSTOMER_TB IS '고객정보 테이블'
/

COMMENT ON COLUMN CUSTOMER_TB.CUSTOMER_ID IS '손님 아이디'
/

COMMENT ON COLUMN CUSTOMER_TB.CUSTOMER_PWD IS '비밀번호'
/

COMMENT ON COLUMN CUSTOMER_TB.CUSTOMER_NM IS '이름'
/

COMMENT ON COLUMN CUSTOMER_TB.CUSTOMER_PHONE IS '번호'
/

COMMENT ON COLUMN CUSTOMER_TB.CUSTOMER_ADDR IS '주소'
/

COMMENT ON COLUMN CUSTOMER_TB.CUSTOMER_EMAIL IS '이메일'
/

COMMENT ON COLUMN CUSTOMER_TB.CUSTOMER_ADMIN IS '소비자/판매자'
/


-- PRODUCT_TB Table Create SQL
CREATE TABLE PRODUCT_TB
(
    PRODUCT_NO          INT             NOT NULL, 
    CATE                VARCHAR2(20)    NOT NULL, 
    PRODUCT_NM          VARCHAR2(20)    NOT NULL, 
    PRODUCT_PRICE       NUMBER          NOT NULL, 
    PRODUCT_ST          NUMBER          NULL, 
    PRODUCT_PICTURE1    VARCHAR2(20)    NULL, 
    PRODUCT_PICTURE2    VARCHAR2(20)    NULL, 
    PRODUCT_PICTURE3    VARCHAR2(20)    NULL, 
    FARM_LICENSE_NO     VARCHAR2(20)    NOT NULL, 
    FARM_NM             VARCHAR2(20)    NULL, 
    FARM_CEO            VARCHAR2(20)    NULL, 
    FARM_ADDR           VARCHAR2(20)    NULL, 
    FARM_PHONE          VARCHAR2(20)    NULL, 
    CONSTRAINT PRODUCT_TB_PK PRIMARY KEY (PRODUCT_NO)
)
/

CREATE SEQUENCE PRODUCT_TB_SEQ
START WITH 1
INCREMENT BY 1;
/

CREATE OR REPLACE TRIGGER PRODUCT_TB_AI_TRG
BEFORE INSERT ON PRODUCT_TB 
REFERENCING NEW AS NEW FOR EACH ROW 
BEGIN 
    SELECT PRODUCT_TB_SEQ.NEXTVAL
    INTO: NEW.PRODUCT_NO
    FROM DUAL;
END;
/

--DROP TRIGGER PRODUCT_TB_AI_TRG;
/

--DROP SEQUENCE PRODUCT_TB_SEQ;
/

COMMENT ON TABLE PRODUCT_TB IS '상품정보 테이블'
/

COMMENT ON COLUMN PRODUCT_TB.PRODUCT_NO IS '제품번호'
/

COMMENT ON COLUMN PRODUCT_TB.CATE IS '카테고리'
/

COMMENT ON COLUMN PRODUCT_TB.PRODUCT_NM IS '상품이름'
/

COMMENT ON COLUMN PRODUCT_TB.PRODUCT_PRICE IS '가격'
/

COMMENT ON COLUMN PRODUCT_TB.PRODUCT_ST IS '재고'
/

COMMENT ON COLUMN PRODUCT_TB.PRODUCT_PICTURE1 IS '물건 사진'
/

COMMENT ON COLUMN PRODUCT_TB.PRODUCT_PICTURE2 IS '물건 사진'
/

COMMENT ON COLUMN PRODUCT_TB.PRODUCT_PICTURE3 IS '물건 사진'
/

COMMENT ON COLUMN PRODUCT_TB.FARM_LICENSE_NO IS '농장 등록번호'
/

COMMENT ON COLUMN PRODUCT_TB.FARM_NM IS '농장 이름'
/

COMMENT ON COLUMN PRODUCT_TB.FARM_CEO IS '농장 대표'
/

COMMENT ON COLUMN PRODUCT_TB.FARM_ADDR IS '농장 주소'
/

COMMENT ON COLUMN PRODUCT_TB.FARM_PHONE IS '농장 연락처'
/


-- ORDER_MAIN_TB Table Create SQL
CREATE TABLE ORDER_MAIN_TB
(
    ORDER_MAIN_NO        INT             NOT NULL, 
    CUSTOMER_ID          VARCHAR2(20)    NOT NULL, 
    ORDER_QT             INT             NOT NULL, 
    ORDER_TOTAL_PRICE    NUMBER          NOT NULL, 
    ORDER_DATE           DATE            NOT NULL, 
    DT_ADDR              VARCHAR2(50)    NOT NULL, 
    DT_CONTACT_NO        VARCHAR2(20)    NOT NULL, 
    ORDER_PAYMENT        VARCHAR2(20)    NOT NULL, 
    ORDER_STATUS         VARCHAR2(20)    NOT NULL, 
    CONSTRAINT ORDER_MAIN_TB_PK PRIMARY KEY (ORDER_MAIN_NO)
)
/

CREATE SEQUENCE ORDER_MAIN_TB_SEQ
START WITH 1
INCREMENT BY 1;
/

CREATE OR REPLACE TRIGGER ORDER_MAIN_TB_AI_TRG
BEFORE INSERT ON ORDER_MAIN_TB 
REFERENCING NEW AS NEW FOR EACH ROW 
BEGIN 
    SELECT ORDER_MAIN_TB_SEQ.NEXTVAL
    INTO: NEW.ORDER_MAIN_NO
    FROM DUAL;
END;
/

--DROP TRIGGER ORDER_MAIN_TB_AI_TRG;
/

--DROP SEQUENCE ORDER_MAIN_TB_SEQ;
/

COMMENT ON TABLE ORDER_MAIN_TB IS '주문 결제정보 테이블'
/

COMMENT ON COLUMN ORDER_MAIN_TB.ORDER_MAIN_NO IS '주문번호'
/

COMMENT ON COLUMN ORDER_MAIN_TB.CUSTOMER_ID IS '유저 아이디'
/

COMMENT ON COLUMN ORDER_MAIN_TB.ORDER_QT IS '주문 건수'
/

COMMENT ON COLUMN ORDER_MAIN_TB.ORDER_TOTAL_PRICE IS '총 가격'
/

COMMENT ON COLUMN ORDER_MAIN_TB.ORDER_DATE IS '날짜'
/

COMMENT ON COLUMN ORDER_MAIN_TB.DT_ADDR IS '배송지 주소'
/

COMMENT ON COLUMN ORDER_MAIN_TB.DT_CONTACT_NO IS '배송지 번호'
/

COMMENT ON COLUMN ORDER_MAIN_TB.ORDER_PAYMENT IS '지불방식'
/

COMMENT ON COLUMN ORDER_MAIN_TB.ORDER_STATUS IS '주문상태'
/

ALTER TABLE ORDER_MAIN_TB
    ADD CONSTRAINT FK_ORDER_MAIN_TB_CUSTOMER_ID_C FOREIGN KEY (CUSTOMER_ID)
        REFERENCES  (CUSTOMER_ID)
/


-- CART_TB Table Create SQL
CREATE TABLE CART_TB
(
    CART_ID          INT             NOT NULL, 
    CUSTOMER_ID      VARCHAR2(20)    NOT NULL, 
    PRODUCT_NO       INT             NOT NULL, 
    PRODUCT_QT       INT             NOT NULL, 
    PRODUCT_PRICE    NUMBER          NOT NULL, 
    CONSTRAINT CART_TB_PK PRIMARY KEY (CART_ID)
)
/

CREATE SEQUENCE CART_TB_SEQ
START WITH 1
INCREMENT BY 1;
/

CREATE OR REPLACE TRIGGER CART_TB_AI_TRG
BEFORE INSERT ON CART_TB 
REFERENCING NEW AS NEW FOR EACH ROW 
BEGIN 
    SELECT CART_TB_SEQ.NEXTVAL
    INTO: NEW.CART_ID
    FROM DUAL;
END;
/

--DROP TRIGGER CART_TB_AI_TRG;
/

--DROP SEQUENCE CART_TB_SEQ;
/

COMMENT ON TABLE CART_TB IS '장바구니 테이블'
/

COMMENT ON COLUMN CART_TB.CART_ID IS '카트번호'
/

COMMENT ON COLUMN CART_TB.CUSTOMER_ID IS '손님 아이디'
/

COMMENT ON COLUMN CART_TB.PRODUCT_NO IS '제품번호'
/

COMMENT ON COLUMN CART_TB.PRODUCT_QT IS '수량'
/

COMMENT ON COLUMN CART_TB.PRODUCT_PRICE IS '가격'
/

ALTER TABLE CART_TB
    ADD CONSTRAINT FK_CART_TB_CUSTOMER_ID_CUSTOME FOREIGN KEY (CUSTOMER_ID)
        REFERENCES  (CUSTOMER_ID)
/

ALTER TABLE CART_TB
    ADD CONSTRAINT FK_CART_TB_PRODUCT_NO_PRODUCT_ FOREIGN KEY (PRODUCT_NO)
        REFERENCES  (PRODUCT_NO)
/


-- ORDER_DETAIL_TB Table Create SQL
CREATE TABLE ORDER_DETAIL_TB
(
    ORDER_DETAIL_ID    INT             NOT NULL, 
    PRODUCT_NO         INT             NOT NULL, 
    ORDER_MAIN_NO      INT             NOT NULL, 
    PRODUCT_QT         INT             NOT NULL, 
    PRODUCT_PRICE      NUMBER          NOT NULL, 
    PRODUCT_STATUS     VARCHAR2(20)    NOT NULL, 
    CONSTRAINT ORDER_DETAIL_TB_PK PRIMARY KEY (ORDER_DETAIL_ID)
)
/

CREATE SEQUENCE ORDER_DETAIL_TB_SEQ
START WITH 1
INCREMENT BY 1;
/

CREATE OR REPLACE TRIGGER ORDER_DETAIL_TB_AI_TRG
BEFORE INSERT ON ORDER_DETAIL_TB 
REFERENCING NEW AS NEW FOR EACH ROW 
BEGIN 
    SELECT ORDER_DETAIL_TB_SEQ.NEXTVAL
    INTO: NEW.ORDER_DETAIL_ID
    FROM DUAL;
END;
/

--DROP TRIGGER ORDER_DETAIL_TB_AI_TRG;
/

--DROP SEQUENCE ORDER_DETAIL_TB_SEQ;
/

COMMENT ON TABLE ORDER_DETAIL_TB IS '주문 상세내역 테이블'
/

COMMENT ON COLUMN ORDER_DETAIL_TB.ORDER_DETAIL_ID IS '디테일ID'
/

COMMENT ON COLUMN ORDER_DETAIL_TB.PRODUCT_NO IS '제품번호'
/

COMMENT ON COLUMN ORDER_DETAIL_TB.ORDER_MAIN_NO IS '주문번호'
/

COMMENT ON COLUMN ORDER_DETAIL_TB.PRODUCT_QT IS '상품 수량'
/

COMMENT ON COLUMN ORDER_DETAIL_TB.PRODUCT_PRICE IS '상품 가격'
/

COMMENT ON COLUMN ORDER_DETAIL_TB.PRODUCT_STATUS IS '상품 상태'
/

ALTER TABLE ORDER_DETAIL_TB
    ADD CONSTRAINT FK_ORDER_DETAIL_TB_PRODUCT_NO_ FOREIGN KEY (PRODUCT_NO)
        REFERENCES  (PRODUCT_NO)
/

ALTER TABLE ORDER_DETAIL_TB
    ADD CONSTRAINT FK_ORDER_DETAIL_TB_ORDER_MAIN_ FOREIGN KEY (ORDER_MAIN_NO)
        REFERENCES  (ORDER_MAIN_NO)
/



```

