## 리눅스 

#### 윈도우 폴더와 리눅스 폴더와의 공유하는 법

:star: Window에서 환경 설정

- 먼저 공유할 폴더를 하나 생성 한다.

- 해당 폴더의 [속성]을 들어간다. (오른쪽 마우스 클릭!)

- [공유]를 클릭한다.

- [공유] Click 하고 공유를 할 사용자를 한명 입력하고 추가 한다. (권한을 읽기 --> 읽기/쓰기 변경 !!!)

- [완료]를 누른다.

- 다음은 [고급 공유] 를 클릭한다. 

- [선택한 폴더 공유] CHECK 하고 폴더이름을 확인하고 [권한]을 클릭한다.

- 해당 사용자 이름을 확인하고 [모든권한] 으로 선택하고 적용한다.

- cmd 창을 킨다 . (NET 권한을 가진 사용자 계정을 만들기 위해)

- 'net user 유저이름(ex root) 비밀번호(ex 0000) /add' 입력

  > 이제 부터 해당 유저이름과 비밀번호로 공유가 가능한 사용자 계정이 등록됨 

  

:star:Linux에서 환경 설정 (mount)

- ```bash
  yum -y install cifs*    -> cifs 설치
  ```

  > CIFS 란 ? 윈도우 등에서 파일이나 디렉터리 및 주변 장치들을 공유하는데 사용되는 메시지 형식, 즉 윈도우 환경에 사용되는 파일 또는 프린터 공유 프로토콜, 7계층 통신 프로토콜 이며 다른 OS간 폴더공유에 많이 사용

- ```bash
  mount -t cifs //window로컬IP(ex 70.12.144.*)/window파일명 리눅스파일위치 (ex ~/file) 
  ->window와 Linux mount 걸기
  ```

  ```
  df -> mount 확인
  ```

> ​       mount 명령어, 옵션
>
> - (일반 mount)
>
> | 옵션 | 설명                         |
> | ---- | ---------------------------- |
> | -v   | 자세한 정보가 출력           |
> | -r   | read-only로 mount            |
> | -w   | read-write 모두 가능한 mount |
>
> - (파일 시스템)  : -t 를 붙이고 사용한다.
>
> | 파일시스템 | 설명                                                         |
> | ---------- | ------------------------------------------------------------ |
> | vfat       | Windows 95,98,NT 파일 시스템                                 |
> | ext2       | 리눅스에서 사용되는 파일 시스템                              |
> | ext3, ext4 | ext2 + 저너링 파일 시스템(파일 복구 가능)                    |
> | nfs        | Network, File System의 약자 NFS 서버의 공유 디렉토리는 mount 할 때 사용 |
> | cifs       | 윈도우 공유 파일에서 쓰는 파일 시스템                        |
> | iso9660    | CD-ROM의 파일 시스템                                         |
>
> - (옵션) :  -o 를 붙이고 사용한다.
>
> | 옵션    | 설명                                                         |
> | ------- | ------------------------------------------------------------ |
> | default | rw, suid,dev,auto,nouser,async 옵션이 선택된다. 사용하지 않을 경우 자동 |
> | ro      | read-only, 읽기 전용으로 mount 된다                          |
> | rw      | read-write, 읽기 쓰기 모두 가능하게 mount 된다.              |
> | auto    | -a 옵션으로 mount할 수 있게 된다.                            |
> | noaute  | -a 옵션으로 mount 안됨(명시적으로만 mount 사용 가능)         |
> | exec    | 실행파일 실행이 가능하게 mount 한다.                         |
> | noexec  | 실행파일 실행이 불가능하게 mount 한다.                       |
> | user    | 일반 사용자의 mount 를 허용한다.                             |
> | nouser  | 일반 사용자의 mount를 거부한다.                              |
> | async   | 파일시스템에 대한 입출력이 비동기적으로 이루어 지게 된다.    |
> | sync    | 파일시스템에 대한 입출력이 동기적으로 이루어지게 된다.       |
> | remount | 이미 mount 된 파일 시스템을 다시 mount 한다.                 |
> | dev     | 파일시스템의 문자, 블럭 특구 장치를 해석한다.                |
> | suid    | setuid, getuid의 사용을 허가한다.                            |
> | nosuid  | setuid, getuid의 사용을 허가하지 않는다.                     |
> | umask   | mount된 디렉토리에서 새로 생성하는 파일과 디렉토리 퍼미션의 degault 값을 지정한다. |
>
> 



##### 원격지에 있는 파일을 복사해오거나  업로는 하는 법 (SCP)

- SCP 란 ? Secure Copy의 약자로 로컬서버에서 리모드(원격) 서버로 파일을 복사해서 올리거나 내려받을 때 사용하는 unix계열 utility

- 사용방법 

  1) 다른 거버로 파일 복사해서 보내기 

  ```bash
  $ scp 보낼파일 서버사용자계정@서버주소:복사될경로
  ```

   2) 다른 서버에서 파일 복사해서 가져오기

  ```bash
  $ scp 서버사용자계정@서버주소:가져올파일경로 복사될경로
  ```

  

- 사용예제 

  서버A IP = 172.172.2.20

  서버B IP = 172.172.2.30

  1)  서버 A에서 서버 B로 특정 파일(sampleA.txt)을 복사하려고 하는 경우()

  ​        - 서버 A의 sampleA.txt 파일을 서버 B의 root 계정으로 로그인 한 후 /home/sample 경로에 복사

         ```bash
$ scp sampleA.txt root@172.172.2.30:/home/sample
         ```



​		2) 서버 A에서 서버 B의 특정 파일을 복사해오고 싶은 경우(sampleB.txt 파일의 경로는 /home/sample 이다.)

​				- 서버 B의 sampleB.txt 파일을 서버 A의 /home/sample 경로에 복사

 ```bash
$ scp root@172.172.2.30:/home/sample/sampleB.txt /home/sample
 ```

