## CAN 통신

- can 하나로는 IoT 데이터를 받아서 동작을 할 수 가 없다. 

- RT : 접지를 나타낸다. 

  > 접지란 ? 접지는 전기회로 또는 전기 장비의 한 부분을 도체를 이용하여 땅(ground)에 연결하는 것을 뜻한다.

- 실제로 IoT와 자동차랑 연결할 때는 시리얼 포트로 통신한다. 
- Can은 두개의 드라이버가 설치 된다. (1. USB 드라이버, 2. 시리얼 포트)
- Can 프로토콜은 명령부/데이터 부로 나눠서 정한다. (무엇을 할지는 각기 다르게 정한다.)
  - Hex 가 명령부 (Hex 는 8진수로 받아서 -> 10진수 -> 2진수로)
  - Bit 가 데이터부

## CAN 프로그래밍

- can 통신을 위한 RXTX 라이브러리를 넣어야한다.

- 그리고 Serial 포트와 연결하기 위한 dll 파일도 넣어주여야 한다.

-    Eclipse를 실행해 테스트용 소스코드를 확인
     -> RXTXcomm.jar를 프로젝트 build path에 추가

     실행시 하나의 dll이 필요한데 
     제공된 rxtxSerial.dll 파일을 Java library path에
     등록해야 한다. VM 인자로 -Djava.library.path에
     해당 파일의 경로를 넣어주면 된다. 혹은 
     파일을 <JAVA_HOME>/jre/bin에 복사해도 된다.

- COM 포트에는 serial(Data를 주고 받기 위한) 과 페러럴(복사기)이 있다.

- 애플리케이션은 Serial과 통신 하여서 Can을 모른다. Serial이 Can이랑 통신한다. 

- 애플리케이션에서 Serial 한테 데이터를 보낼 때는 시작과 끝을 주고 보낸다.( 왜냐하면 Serial은 막무가내로 Can 한테 보내기 때문에 !!)

- Serial은 애플리케이션과 계속해서 Stream이 연결되어 있는게 아니다 !  데이터가 들어올 때 마다 물어 본다. 그래서  를 사용해서 데이터가 들어 왔음을 알려준다. 

- 데이터 구조 ) U28 보내겠다. 뒤에 문자 두개는 CheckSum 데이터가 맞는지 아닌지 확인!!  

  - ex) U2800000001000000000000000141
  - HEAD : U28 은 데이터를 보내겠 다.
  - HaX : 00000001는 아이디
  - Data : 0000000000000001 데이터
  - CheakSum : 41

- 